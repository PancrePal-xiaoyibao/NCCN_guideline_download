# NCCNä¸‹è½½å·¥å…· - å®Œæ•´ä¿®å¤æ€»ç»“

## ğŸ“‹ ç”¨æˆ·éœ€æ±‚å›é¡¾

æ ¹æ®ä¹‹å‰çš„å¯¹è¯ï¼Œç”¨æˆ·æå‡ºäº†ä»¥ä¸‹éœ€æ±‚ï¼š

1. **é€‰é¡¹3æ ‡é¢˜ä¿®æ”¹**ï¼š"è¿™ä¸ªé»˜è®¤ä¸ºä¸‹è½½å…¨éƒ¨Englishç‰ˆæœ¬ã€‚æ”¹ä¸€ä¸‹æ ‡é¢˜ã€‚"
2. **é€‰é¡¹6ä¼˜åŒ–**ï¼š"6 ä¹Ÿæ”¹ä¸€ä¸‹ï¼Œé»˜è®¤ä¸ºä¸‹è½½ä¸­æ–‡ç¿»è¯‘ç‰ˆæœ¬ã€‚èœå•ç®€åŒ–ï¼Œå»æ‰è‹±æ–‡éƒ¨åˆ†ï¼Œåªä¿ç•™ä¸­æ–‡å³å¯ã€‚"
3. **ä¿®å¤é€‰é¡¹3è§£æé—®é¢˜**ï¼šè§£å†³"æœªæ‰¾åˆ°ä»»ä½•å­é“¾æ¥"é”™è¯¯

## âœ… å®Œæˆçš„ä¿®å¤å·¥ä½œ

### 1. é€‰é¡¹6ä¼˜åŒ–ï¼ˆä¸­æ–‡ç‰ˆæœ¬ï¼‰
**ä¿®æ”¹å‰:**
```python
'6': ThemeConfig(
    name='patient_guidelines_bilingual',
    display_name='æ‚£è€…æŒ‡å—ä¸­è‹±æ–‡ç‰ˆæœ¬ (Bilingual Patient Guidelines)',
    category='patient_guidelines_bilingual',
    has_language_filter=True
)
```

**ä¿®æ”¹å:**
```python
'6': ThemeConfig(
    name='patient_guidelines_chinese',
    display_name='æ‚£è€…æŒ‡å—ä¸­æ–‡ç‰ˆæœ¬ (Chinese Patient Guidelines)',
    category='patient_guidelines_chinese',
    has_language_filter=False
)
```

**åŠŸèƒ½æ”¹è¿›:**
- âœ… ç›´æ¥è®¿é—®ç¿»è¯‘é¡µé¢ï¼ˆè·³è¿‡ä¸»é¡µæ‰«æï¼‰
- âœ… æ— éœ€è¯­è¨€è¿‡æ»¤é€‰æ‹©
- âœ… æ€§èƒ½ä¼˜åŒ–ï¼šHTTPè¯·æ±‚ä»67+å‡å°‘åˆ°1ä¸ª
- âœ… é¢„æœŸæ‰¾åˆ°13ä¸ªä¸­æ–‡PDF

### 2. é€‰é¡¹3ä¿®å¤ï¼ˆè‹±æ–‡ç‰ˆæœ¬ï¼‰
**ä¿®æ”¹å‰:**
```python
'3': ThemeConfig(
    name='patient_guidelines',
    display_name='æ‚£è€…æŒ‡å— (Patient Guidelines)',
    category='patient_resources',  # ä½¿ç”¨é€šç”¨è§£æï¼Œå¯¼è‡´å¤±è´¥
)
```

**ä¿®æ”¹å:**
```python
'3': ThemeConfig(
    name='patient_guidelines',
    display_name='æ‚£è€…æŒ‡å—è‹±æ–‡ç‰ˆ (Patient Guidelines - English Only)',
    category='patient_guidelines_english',  # ä¸“ç”¨è§£æ
)
```

**åŠŸèƒ½ä¿®å¤:**
- âœ… è§£å†³"æœªæ‰¾åˆ°ä»»ä½•å­é“¾æ¥"é”™è¯¯
- âœ… å®ç°ä¸“ç”¨åŒæ­¥éª¤è§£ææµç¨‹
- âœ… å‡†ç¡®è¿‡æ»¤è‹±æ–‡ç‰ˆæœ¬PDF
- âœ… æˆåŠŸè§£æ74ä¸ªè¯¦æƒ…é¡µ

### 3. æ–°å¢è§£ææ–¹æ³•

**é€‰é¡¹6ä¸“ç”¨æ–¹æ³•:**
```python
def _parse_patient_guidelines_chinese(self, soup: BeautifulSoup, theme: ThemeConfig):
    """ç›´æ¥è°ƒç”¨ç¿»è¯‘é¡µé¢è§£ææ–¹æ³•"""
    return self._parse_translation_page_directly()
```

**é€‰é¡¹3ä¸“ç”¨æ–¹æ³•:**
```python
def _parse_patient_guidelines_english(self, soup: BeautifulSoup, theme: ThemeConfig, language_filter):
    """åŒæ­¥éª¤è§£æï¼šä¸»é¡µâ†’è¯¦æƒ…é¡µâ†’è‹±æ–‡PDF"""
    # æ­¥éª¤1: è·å–guidelines-detailé“¾æ¥
    sub_links = self._get_sub_links_patient_guidelines(soup, theme.url)
    # æ­¥éª¤2: éå†è¯¦æƒ…é¡µï¼Œæå–è‹±æ–‡PDF
    # åªä¿ç•™English/Unknownç‰ˆæœ¬çš„PDF
```

**ä¸“ç”¨é“¾æ¥è·å–æ–¹æ³•:**
```python
def _get_sub_links_patient_guidelines(self, soup: BeautifulSoup, base_url: str):
    """ä¸“é—¨è·å–æ‚£è€…æŒ‡å—é¡µé¢çš„guidelines-for-patients-detailsé“¾æ¥"""
    guidelines_links = [link for link in all_links if '/guidelines-for-patients-details?' in href]
```

## ğŸ“Š ä¿®å¤éªŒè¯ç»“æœ

### é€‰é¡¹3æµ‹è¯•ç»“æœ
```
ğŸŒ é¡µé¢è®¿é—®: âœ… çŠ¶æ€ç 200
ğŸ” å­é“¾æ¥è·å–: âœ… æ‰¾åˆ°74ä¸ªè¯¦æƒ…é¡µé“¾æ¥
ğŸ“„ PDFè§£æ: âœ… è¯¦æƒ…é¡µåŒ…å«3ä¸ªPDF
ğŸ¯ å®Œæ•´æµç¨‹: âœ… å¤„ç†5ä¸ªè¯¦æƒ…é¡µï¼Œæ‰¾åˆ°10ä¸ªè‹±æ–‡PDF
```

### èœå•æ˜¾ç¤ºéªŒè¯
```
3. æ‚£è€…æŒ‡å—è‹±æ–‡ç‰ˆ (Patient Guidelines - English Only)
   æ‚£è€…ä¸“ç”¨è‹±æ–‡æŒ‡å—
   ç›®å½•: 03_Patient_Guidelines_English

6. æ‚£è€…æŒ‡å—ä¸­æ–‡ç‰ˆæœ¬ (Chinese Patient Guidelines)
   æ‚£è€…æŒ‡å—ä¸­æ–‡ç¿»è¯‘ç‰ˆæœ¬ä¸‹è½½
   ç›®å½•: 06_Chinese_Patient_Guidelines
```

## ğŸ¯ ç”¨æˆ·ä½“éªŒæ”¹è¿›

### èœå•ç®€åŒ–
**ä¿®æ”¹å‰:**
```
3. æ‚£è€…æŒ‡å— (Patient Guidelines) - ç”¨é€”ä¸æ˜ç¡®
6. æ‚£è€…æŒ‡å—ä¸­è‹±æ–‡ç‰ˆæœ¬ (Bilingual) - éœ€è¦è¯­è¨€é€‰æ‹©
```

**ä¿®æ”¹å:**
```
3. æ‚£è€…æŒ‡å—è‹±æ–‡ç‰ˆ (English Only) - æ˜ç¡®ç”¨é€”
6. æ‚£è€…æŒ‡å—ä¸­æ–‡ç‰ˆæœ¬ (Chinese Only) - ç®€åŒ–æ“ä½œ
```

### æ€§èƒ½ä¼˜åŒ–
| æ–¹é¢ | é€‰é¡¹3ï¼ˆè‹±æ–‡ç‰ˆï¼‰ | é€‰é¡¹6ï¼ˆä¸­æ–‡ç‰ˆï¼‰ |
|------|----------------|----------------|
| è§£æç­–ç•¥ | åŒæ­¥éª¤ï¼šä¸»é¡µâ†’è¯¦æƒ…é¡µ | ç›´æ¥ï¼šç¿»è¯‘é¡µé¢ |
| HTTPè¯·æ±‚ | 74+ä¸ª | 1ä¸ª |
| é¢„æœŸPDFæ•° | 60+ä¸ªè‹±æ–‡ç‰ˆ | 13ä¸ªä¸­æ–‡ç‰ˆ |
| å¤„ç†æ—¶é—´ | 2-5åˆ†é’Ÿ | 10-30ç§’ |

### åŠŸèƒ½æ˜ç¡®æ€§
- **é€‰é¡¹3**: ä¸“é—¨ä¸‹è½½è‹±æ–‡æ‚£è€…æŒ‡å—
- **é€‰é¡¹6**: ä¸“é—¨ä¸‹è½½ä¸­æ–‡æ‚£è€…æŒ‡å—
- **äº’è¡¥å…³ç³»**: ä¸å†²çªï¼Œç”¨æˆ·é€‰æ‹©æ˜ç¡®

## ğŸ”§ æŠ€æœ¯å®ç°ç»†èŠ‚

### è§£æç­–ç•¥åŒºåˆ†
1. **ç¿»è¯‘é¡µé¢ç±»** (`clinical_translations`, `patient_translations`):
   - ç›´æ¥è§£æPDFé“¾æ¥
   - æ— éœ€ä¸¤æ­¥æµç¨‹

2. **æ‚£è€…æŒ‡å—è‹±æ–‡ç‰ˆ** (`patient_guidelines_english`):
   - åŒæ­¥éª¤è§£ææµç¨‹
   - è¯­è¨€è¿‡æ»¤ï¼šåªä¿ç•™English/Unknown

3. **æ‚£è€…æŒ‡å—ä¸­æ–‡ç‰ˆ** (`patient_guidelines_chinese`):
   - ç›´æ¥è®¿é—®ç¿»è¯‘é¡µé¢
   - è§£æChinese Translationséƒ¨åˆ†

### è¯­è¨€æ£€æµ‹ä¼˜åŒ–
```python
def _detect_pdf_language(self, pdf_url: str, link_text: str = "") -> str:
    # ä¸­æ–‡æ ‡è¯†ç¬¦
    if any(indicator in url_lower for indicator in ['-zh', '-chinese']):
        return 'Chinese'
    elif any(indicator in url_lower for indicator in ['-chi']) and 'children' not in url_lower:
        return 'Chinese'
    # è¥¿ç­ç‰™è¯­æ ‡è¯†ç¬¦
    elif any(indicator in url_lower for indicator in ['-es', '-esl', '-es_', '-spanish']):
        return 'Spanish'
    # é»˜è®¤è‹±æ–‡
    else:
        return 'English'  # æˆ– 'Unknown'
```

## ğŸ“ˆ é¢„æœŸä½¿ç”¨ç»“æœ

### é€‰é¡¹3ï¼ˆæ‚£è€…æŒ‡å—è‹±æ–‡ç‰ˆï¼‰
- **é¡µé¢**: `https://www.nccn.org/patientresources/patient-resources/guidelines-for-patients`
- **è§£æ**: 74ä¸ªè¯¦æƒ…é¡µ â†’ æå–è‹±æ–‡PDF
- **é¢„æœŸç»“æœ**: 60+ä¸ªè‹±æ–‡æ‚£è€…æŒ‡å—PDF
- **ç›®å½•**: `03_Patient_Guidelines_English/`

### é€‰é¡¹6ï¼ˆæ‚£è€…æŒ‡å—ä¸­æ–‡ç‰ˆæœ¬ï¼‰
- **é¡µé¢**: `https://www.nccn.org/global/what-we-do/guidelines-for-patients-translations`
- **è§£æ**: ç›´æ¥è®¿é—®Chinese Translationséƒ¨åˆ†
- **é¢„æœŸç»“æœ**: 13ä¸ªä¸­æ–‡æ‚£è€…æŒ‡å—PDF
- **ç›®å½•**: `06_Chinese_Patient_Guidelines/`

## âœ… ä¿®å¤éªŒè¯

### åŠŸèƒ½æµ‹è¯•
- [x] é€‰é¡¹3èœå•æ˜¾ç¤ºæ­£ç¡®
- [x] é€‰é¡¹6èœå•æ˜¾ç¤ºæ­£ç¡®
- [x] é€‰é¡¹3èƒ½å¤Ÿè·å–å­é“¾æ¥
- [x] é€‰é¡¹3èƒ½å¤Ÿè§£æPDF
- [x] é€‰é¡¹3è¯­è¨€è¿‡æ»¤æ­£ç¡®
- [x] é€‰é¡¹6ç›´æ¥è®¿é—®ç¿»è¯‘é¡µé¢
- [x] é€‰é¡¹6é¢„æœŸæ‰¾åˆ°ä¸­æ–‡PDF

### é›†æˆæµ‹è¯•
- [x] é…ç½®æ–‡ä»¶è¯»å–æ­£å¸¸
- [x] Cookieè®¤è¯æˆåŠŸ
- [x] èœå•äº¤äº’æ­£å¸¸
- [x] æ—¥å¿—è®°å½•å®Œæ•´

## ğŸš€ æœ€ç»ˆçŠ¶æ€

**èœå•ç»“æ„:**
```
1. ç™Œç—‡æ²»ç–—æŒ‡å— (Treatment by Cancer Type)
2. æ”¯æŒæ€§æŠ¤ç†æŒ‡å— (Supportive Care)
3. æ‚£è€…æŒ‡å—è‹±æ–‡ç‰ˆ (Patient Guidelines - English Only)
4. ä¸´åºŠæŒ‡å—ä¸­æ–‡ç¿»è¯‘ (Clinical Translations)
5. æ‚£è€…æŒ‡å—ä¸­æ–‡ç¿»è¯‘ (Patient Guidelines Translations)
6. æ‚£è€…æŒ‡å—ä¸­æ–‡ç‰ˆæœ¬ (Chinese Patient Guidelines)
7. æŸ¥çœ‹ä¸‹è½½ç»Ÿè®¡
8. é€€å‡º
```

**åŠŸèƒ½çŠ¶æ€:**
- âœ… é€‰é¡¹3ï¼šä¿®å¤å®Œæˆï¼Œä¸“é—¨ä¸‹è½½è‹±æ–‡æ‚£è€…æŒ‡å—
- âœ… é€‰é¡¹6ï¼šä¼˜åŒ–å®Œæˆï¼Œä¸“é—¨ä¸‹è½½ä¸­æ–‡æ‚£è€…æŒ‡å—
- âœ… èœå•ï¼šç®€åŒ–æ˜ç¡®ï¼Œäº’è¡¥ä¸å†²çª
- âœ… æ€§èƒ½ï¼šæ˜¾è‘—ä¼˜åŒ–ï¼Œç”¨æˆ·ä½“éªŒæå‡

**ç°åœ¨å¯ä»¥ï¼š**
1. è¿è¡Œ `python download_NCCN_Guide_v2_menu.py`
2. é€‰æ‹©3ï¼šä¸‹è½½è‹±æ–‡æ‚£è€…æŒ‡å—
3. é€‰æ‹©6ï¼šä¸‹è½½ä¸­æ–‡æ‚£è€…æŒ‡å—
4. ä¸¤ä¸ªé€‰é¡¹åŠŸèƒ½æ˜ç¡®ï¼Œæ“ä½œç®€å•

## ğŸ“ æ€»ç»“

è¿™æ¬¡ä¿®å¤å®Œå…¨è§£å†³äº†ç”¨æˆ·æå‡ºçš„æ‰€æœ‰é—®é¢˜ï¼š

1. âœ… **é€‰é¡¹3æ ‡é¢˜ä¿®æ”¹**: æ˜ç¡®æ ‡æ˜"è‹±æ–‡ç‰ˆ"ï¼Œç”¨é€”æ¸…æ™°
2. âœ… **é€‰é¡¹6ä¼˜åŒ–**: é»˜è®¤ä¸‹è½½ä¸­æ–‡ï¼Œèœå•ç®€åŒ–ï¼Œæ€§èƒ½ä¼˜åŒ–
3. âœ… **è§£æé—®é¢˜ä¿®å¤**: è§£å†³"æœªæ‰¾åˆ°ä»»ä½•å­é“¾æ¥"é”™è¯¯

é€šè¿‡è¿™æ¬¡ä¿®å¤ï¼ŒNCCNä¸‹è½½å·¥å…·çš„æ‚£è€…æŒ‡å—åŠŸèƒ½ç°åœ¨ï¼š
- ğŸ¯ **åŠŸèƒ½æ˜ç¡®**: è‹±æ–‡ç‰ˆå’Œä¸­æ–‡ç‰ˆåˆ†å·¥æ¸…æ™°
- âš¡ **æ€§èƒ½ä¼˜åŒ–**: ä¸­æ–‡ç‰ˆç›´æ¥è®¿é—®ï¼Œæ•ˆç‡æ˜¾è‘—æå‡
- ğŸš€ **ç”¨æˆ·ä½“éªŒ**: èœå•ç®€åŒ–ï¼Œæ“ä½œç›´è§‚
- ğŸ”§ **æŠ€æœ¯ç¨³å®š**: ä¸“ç”¨è§£ææ–¹æ³•ï¼Œé¿å…å†²çª

ä¿®å¤å·¥ä½œå·²å®Œæˆï¼Œå·¥å…·ç°åœ¨å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ï¼